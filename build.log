--progress is a global compose flag, better use `docker compose --progress xx build ...
#1 [internal] load local bake definitions
#1 reading from stdin 577B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 725B done
#2 DONE 0.2s

#3 [internal] load metadata for docker.io/library/python:3.12-bookworm
#3 DONE 3.0s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.2s

#5 [1/7] FROM docker.io/library/python:3.12-bookworm@sha256:645df645815f1403566b103b2a2bb07f6a01516bbb15078ed004e41d198ba194
#5 CACHED

#6 [internal] load build context
#6 transferring context: 1.11MB 3.6s done
#6 DONE 4.0s

#7 [2/7] RUN apt-get update &&     apt-get install -y --no-install-recommends gcc libpq-dev &&     apt-get clean &&     rm -rf /var/lib/apt/lists/*
#7 3.291 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#7 4.296 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#7 4.681 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#7 5.021 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8793 kB]
#7 21.44 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6916 B]
#7 21.83 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [272 kB]
#7 26.03 Fetched 9327 kB in 23s (399 kB/s)
#7 26.03 Reading package lists...
#7 28.28 Reading package lists...
#7 30.29 Building dependency tree...
#7 30.68 Reading state information...
#7 31.49 gcc is already the newest version (4:12.2.0-3).
#7 31.49 libpq-dev is already the newest version (15.13-0+deb12u1).
#7 31.49 0 upgraded, 0 newly installed, 0 to remove and 4 not upgraded.
#7 DONE 32.4s

#8 [3/7] WORKDIR /app
#8 DONE 1.5s

#9 [4/7] COPY requirements.txt .
#9 DONE 1.3s

#10 [5/7] RUN pip install --upgrade pip &&     pip install -r requirements.txt
#10 7.213 Requirement already satisfied: pip in /usr/local/lib/python3.12/site-packages (25.0.1)
#10 8.186 Collecting pip
#10 9.031   Downloading pip-25.2-py3-none-any.whl.metadata (4.7 kB)
#10 9.339 Downloading pip-25.2-py3-none-any.whl (1.8 MB)
#10 11.91    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.8/1.8 MB 715.9 kB/s eta 0:00:00
#10 12.02 Installing collected packages: pip
#10 12.02   Attempting uninstall: pip
#10 12.04     Found existing installation: pip 25.0.1
#10 12.25     Uninstalling pip-25.0.1:
#10 14.09       Successfully uninstalled pip-25.0.1
#10 18.03 Successfully installed pip-25.2
#10 18.03 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 24.02 Collecting Django>=4.2 (from -r requirements.txt (line 1))
#10 24.61   Downloading django-5.2.4-py3-none-any.whl.metadata (4.1 kB)
#10 24.93 Collecting gunicorn (from -r requirements.txt (line 2))
#10 25.08   Downloading gunicorn-23.0.0-py3-none-any.whl.metadata (4.4 kB)
#10 26.05 Collecting psycopg2-binary (from -r requirements.txt (line 3))
#10 26.20   Downloading psycopg2_binary-2.9.10-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
#10 26.56 Collecting python-dotenv (from -r requirements.txt (line 4))
#10 26.71   Downloading python_dotenv-1.1.1-py3-none-any.whl.metadata (24 kB)
#10 27.10 Collecting whitenoise (from -r requirements.txt (line 5))
#10 27.24   Downloading whitenoise-6.9.0-py3-none-any.whl.metadata (3.6 kB)
#10 27.82 Collecting django-environ (from -r requirements.txt (line 6))
#10 27.97   Downloading django_environ-0.12.0-py2.py3-none-any.whl.metadata (12 kB)
#10 28.47 Collecting asgiref>=3.8.1 (from Django>=4.2->-r requirements.txt (line 1))
#10 28.62   Downloading asgiref-3.9.1-py3-none-any.whl.metadata (9.3 kB)
#10 28.95 Collecting sqlparse>=0.3.1 (from Django>=4.2->-r requirements.txt (line 1))
#10 29.10   Downloading sqlparse-0.5.3-py3-none-any.whl.metadata (3.9 kB)
#10 29.48 Collecting packaging (from gunicorn->-r requirements.txt (line 2))
#10 29.62   Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
#10 29.92 Downloading django-5.2.4-py3-none-any.whl (8.3 MB)
#10 40.26    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.3/8.3 MB 805.4 kB/s  0:00:10
#10 40.41 Downloading gunicorn-23.0.0-py3-none-any.whl (85 kB)
#10 40.73 Downloading psycopg2_binary-2.9.10-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
#10 44.74    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 743.8 kB/s  0:00:04
#10 44.89 Downloading python_dotenv-1.1.1-py3-none-any.whl (20 kB)
#10 45.15 Downloading whitenoise-6.9.0-py3-none-any.whl (20 kB)
#10 45.41 Downloading django_environ-0.12.0-py2.py3-none-any.whl (19 kB)
#10 45.68 Downloading asgiref-3.9.1-py3-none-any.whl (23 kB)
#10 45.94 Downloading sqlparse-0.5.3-py3-none-any.whl (44 kB)
#10 46.39 Downloading packaging-25.0-py3-none-any.whl (66 kB)
#10 47.05 Installing collected packages: whitenoise, sqlparse, python-dotenv, psycopg2-binary, packaging, django-environ, asgiref, gunicorn, Django
#10 57.31 
#10 57.32 Successfully installed Django-5.2.4 asgiref-3.9.1 django-environ-0.12.0 gunicorn-23.0.0 packaging-25.0 psycopg2-binary-2.9.10 python-dotenv-1.1.1 sqlparse-0.5.3 whitenoise-6.9.0
#10 57.32 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 DONE 60.3s

#11 [6/7] COPY . .
#11 DONE 8.8s

#12 [7/7] RUN python manage.py collectstatic --noinput
#12 5.836 Traceback (most recent call last):
#12 5.836   File "/app/manage.py", line 22, in <module>
#12 5.837     main()
#12 5.837   File "/app/manage.py", line 18, in main
#12 5.837     execute_from_command_line(sys.argv)
#12 5.837   File "/usr/local/lib/python3.12/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
#12 5.838     utility.execute()
#12 5.839   File "/usr/local/lib/python3.12/site-packages/django/core/management/__init__.py", line 416, in execute
#12 5.840     django.setup()
#12 5.840   File "/usr/local/lib/python3.12/site-packages/django/__init__.py", line 24, in setup
#12 5.852     apps.populate(settings.INSTALLED_APPS)
#12 5.853   File "/usr/local/lib/python3.12/site-packages/django/apps/registry.py", line 91, in populate
#12 5.854     app_config = AppConfig.create(entry)
#12 5.855                  ^^^^^^^^^^^^^^^^^^^^^^^
#12 5.855   File "/usr/local/lib/python3.12/site-packages/django/apps/config.py", line 193, in create
#12 5.856     import_module(entry)
#12 5.857   File "/usr/local/lib/python3.12/importlib/__init__.py", line 90, in import_module
#12 5.857     return _bootstrap._gcd_import(name[level:], package, level)
#12 5.858            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
#12 5.860   File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
#12 5.860   File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
#12 5.860   File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
#12 5.860 ModuleNotFoundError: No module named 'rest_framework'
#12 ERROR: process "/bin/sh -c python manage.py collectstatic --noinput" did not complete successfully: exit code: 1
------
 > [7/7] RUN python manage.py collectstatic --noinput:
5.855                  ^^^^^^^^^^^^^^^^^^^^^^^
5.855   File "/usr/local/lib/python3.12/site-packages/django/apps/config.py", line 193, in create
5.856     import_module(entry)
5.857   File "/usr/local/lib/python3.12/importlib/__init__.py", line 90, in import_module
5.857     return _bootstrap._gcd_import(name[level:], package, level)
5.858            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
5.860   File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
5.860   File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
5.860   File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
5.860 ModuleNotFoundError: No module named 'rest_framework'
------
Dockerfile:26

--------------------

  24 |     

  25 |     # Collect static files

  26 | >>> RUN python manage.py collectstatic --noinput

  27 |     

  28 |     # Expose port

--------------------

failed to solve: process "/bin/sh -c python manage.py collectstatic --noinput" did not complete successfully: exit code: 1

16240  /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

github.com/moby/buildkit/executor/runcexecutor.exitError

	/root/build-deb/engine/vendor/github.com/moby/buildkit/executor/runcexecutor/executor.go:391

github.com/moby/buildkit/executor/runcexecutor.(*runcExecutor).Run

	/root/build-deb/engine/vendor/github.com/moby/buildkit/executor/runcexecutor/executor.go:339

github.com/moby/buildkit/solver/llbsolver/ops.(*ExecOp).Exec

	/root/build-deb/engine/vendor/github.com/moby/buildkit/solver/llbsolver/ops/exec.go:492

github.com/moby/buildkit/solver.(*sharedOp).Exec.func2

	/root/build-deb/engine/vendor/github.com/moby/buildkit/solver/jobs.go:1120

github.com/moby/buildkit/util/flightcontrol.(*call[...]).run

	/root/build-deb/engine/vendor/github.com/moby/buildkit/util/flightcontrol/flightcontrol.go:122

sync.(*Once).doSlow

	/usr/local/go/src/sync/once.go:78

sync.(*Once).Do

	/usr/local/go/src/sync/once.go:69

runtime.goexit

	/usr/local/go/src/runtime/asm_amd64.s:1700



109885 v0.26.1 /usr/libexec/docker/cli-plugins/docker-buildx bake --file - --progress rawjson --metadata-file /tmp/compose-build-metadataFile-1284626177.json --allow fs.read=/home/aaaa/DurraFX/familia-center-backend

google.golang.org/grpc.(*ClientConn).Invoke

	google.golang.org/grpc@v1.72.2/call.go:35

github.com/moby/buildkit/api/services/control.(*controlClient).Solve

	github.com/moby/buildkit@v0.23.0-rc1.0.20250618182037-9b91d20367db/api/services/control/control_grpc.pb.go:88

github.com/moby/buildkit/client.(*Client).solve.func2

	github.com/moby/buildkit@v0.23.0-rc1.0.20250618182037-9b91d20367db/client/solve.go:268

golang.org/x/sync/errgroup.(*Group).add.func1

	golang.org/x/sync@v0.14.0/errgroup/errgroup.go:130

runtime.goexit

	runtime/asm_amd64.s:1700



16240  /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

github.com/moby/buildkit/solver.(*edge).execOp

	/root/build-deb/engine/vendor/github.com/moby/buildkit/solver/edge.go:963

github.com/moby/buildkit/solver/internal/pipe.NewWithFunction[...].func2

	/root/build-deb/engine/vendor/github.com/moby/buildkit/solver/internal/pipe/pipe.go:78

runtime.goexit

	/usr/local/go/src/runtime/asm_amd64.s:1700



109885 v0.26.1 /usr/libexec/docker/cli-plugins/docker-buildx bake --file - --progress rawjson --metadata-file /tmp/compose-build-metadataFile-1284626177.json --allow fs.read=/home/aaaa/DurraFX/familia-center-backend

github.com/moby/buildkit/client.(*Client).solve.func2

	github.com/moby/buildkit@v0.23.0-rc1.0.20250618182037-9b91d20367db/client/solve.go:285

golang.org/x/sync/errgroup.(*Group).add.func1

	golang.org/x/sync@v0.14.0/errgroup/errgroup.go:130



16240  /usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock

github.com/moby/buildkit/solver/llbsolver/ops.(*ExecOp).Exec

	/root/build-deb/engine/vendor/github.com/moby/buildkit/solver/llbsolver/ops/exec.go:513

github.com/moby/buildkit/solver.(*sharedOp).Exec.func2

	/root/build-deb/engine/vendor/github.com/moby/buildkit/solver/jobs.go:1120



